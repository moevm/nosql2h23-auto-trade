ul.menus-filter
    li(style='--delay: 1;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Марка') #{filter_data[0]}
            span.arrow
        ul.dropdown()
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Mercedes
            li
                a(onclick="filter(this)") BMW
            li
                a(onclick="filter(this)") Toyota

    li(style='--delay: 2;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Модель') #{filter_data[1]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") AMG-GT
            li
                a(onclick="filter(this)") Land Cruiser
            li
                a(onclick="filter(this)") GLC

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            //span(id='years', title='Год') Год от 2017 до
            span(id='years', title='Год') #{filter_data[2]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                p от
                input.w3-round-large(type='number', id='year1', min=0)
                p до
                input.w3-round-large(type='number', id='year2', min=0)


    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Цвет') #{filter_data[3]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Красный
            li
                a(onclick="filter(this)") Черный
            li
                a(onclick="filter(this)") Синий

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Кузов') #{filter_data[4]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Седан
            li
                a(onclick="filter(this)") Купе
            li
                a(onclick="filter(this)") Внедорожник

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span(id='mileages', title='Пробег') #{filter_data[5]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                p от
                input.w3-round-large(type='number', id='mileage1', min=0)
                p до
                input.w3-round-large(type='number', id='mileage2', min=0)

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Двигатель') #{filter_data[6]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Бензин
            li
                a(onclick="filter(this)") Дизель

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Коробка') #{filter_data[7]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Автомат
            li
                a(onclick="filter(this)") Механика

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Привод') #{filter_data[8]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Передний
            li
                a(onclick="filter(this)") Задний
            li
                a(onclick="filter(this)") Полный

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span.name-filter(title='Руль') #{filter_data[9]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                a(onclick="filter(this)") Правый
            li
                a(onclick="filter(this)") Левый

    li(style='--delay: 3;', tabindex='0').dropdown-el
        button(type="button").drop
            span(id='prices', title='Цена') #{filter_data[10]}
            span.arrow
        ul.dropdown
            li
                a(onclick="filter(this)") Очистить
            li
                p от
                input.w3-round-large(type='number', id='price1', min=0)
                p до
                input.w3-round-large(type='number', id='price2', min=0)

    button.w3-button.w3-center.w3-hover-aqua.send-filter(id="submitButton") Отправить форму

script.
    $(document).ready(function () {
        $('#submitButton').on('click', function () {
            let filter = this.closest(".menus-filter")
            let data = filter.getElementsByClassName('name-filter')
            let year1 = document.getElementById('year1')
            let year2 = document.getElementById('year2')
            let mileage1 = document.getElementById('mileage1')
            let mileage2 = document.getElementById('mileage2')
            let price1 = document.getElementById('price1')
            let price2 = document.getElementById('price2')

            let years = document.getElementById('years').innerHTML.split(' ')
            let mileages = document.getElementById('mileages').innerHTML.split(' ')
            let prices = document.getElementById('prices').innerHTML.split(' ')
            const eqSet = (array1, array2) => array1.length === array2.length &&
                array1.every(function (value, index) {
                return value === array2[index]
            })

            console.log(years)
            if (year1.value === ''){
                if (!eqSet(years, ['Год'])) {
                    if (years[2] !== 'от')
                        year1.value = years[2]
                }
            }
            if (year2.value === '') {
                if (!eqSet(years, ['Год'])) {
                    year2.value = years[4]
                }
            }

            if (mileage1.value === '') {
                if (!eqSet(mileages, ['Пробег'])) {
                    if (mileages[2] !== 'от')
                        mileage1.value = mileages[2]
                }
            }
            if (mileage2.value === '') {
                if (!eqSet(mileages, ['Пробег'])) {
                    mileage2.value = mileages[4]
                }
            }

            if (price1.value === '') {
                if (!eqSet(prices, ['Цена'])) {
                    if (prices[2] !== 'от')
                        price1.value = prices[2]
                }
            }
            if (price2.value === '') {
                if (!eqSet(prices, ['Цена'])) {
                    price2.value = prices[4]
                }
            }


            // console.log(document.getElementById('years').innerHTML.split(' '))

            // console.log(data)
            // db_dataset['Год'] = year.value
            // db_dataset['Пробег'] = mileage.value
            data = {
                submit: document.getElementById('submitButton').value,
                filter_brand: data[0].innerHTML.split(','),
                filter_model: data[1].innerHTML.split(','),
                filter_year1: year1.value,
                filter_year2: year2.value,
                filter_color: data[2].innerHTML.split(','),
                filter_body: data[3].innerHTML.split(','),
                filter_mileage1: mileage1.value,
                filter_mileage2: mileage2.value,
                filter_engine: data[4].innerHTML.split(','),
                filter_transmission: data[5].innerHTML.split(','),
                filter_drive: data[6].innerHTML.split(','),
                filter_helm: data[7].innerHTML.split(','),
                filter_price1: price1.value,
                filter_price2: price2.value,
            }
            $.post('/mainfilter', data, function (status) {
                console.log(status)
                location.href = '/mainfilter'
            });
        });
    });
//     -
//         for item in db_dataset
//             console.log(item)
//
//
//     //include mixins/one-param-filter
//     //for item in db_dataset
//     //    +one-param-filter(item, db_dataset[item])
// //